"use strict";(self.webpackChunkcapacitor_firebase=self.webpackChunkcapacitor_firebase||[]).push([[705],{705:function(e,t,r){r.r(t),r.d(t,{FirebaseMessagingWeb:function(){return v}});var n=r(165),i=r(861),a=r(671),o=r(144),c=r(136),u=r(277),s=r(653),f=r(753),v=function(e){(0,c.Z)(r,e);var t=(0,u.Z)(r);function r(){var e;return(0,a.Z)(this,r),e=t.call(this),(0,f.Gb)().then((function(t){if(t){var r=(0,f.KL)();(0,f.ps)(r,(function(t){return e.handleNotificationReceived(t)}))}})),e}return(0,o.Z)(r,[{key:"checkPermissions",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.convertNotificationPermissionToPermissionState(Notification.permission),e.abrupt("return",{receive:t});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"requestPermissions",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var t,r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Notification.requestPermission();case 2:return t=e.sent,r=this.convertNotificationPermissionToPermissionState(t),e.abrupt("return",{receive:r});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isSupported",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.Gb)();case 2:return t=e.sent,e.abrupt("return",{isSupported:t});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getToken",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,f.KL)(),e.next=3,(0,f.LP)(r,{vapidKey:t.vapidKey,serviceWorkerRegistration:t.serviceWorkerRegistration});case 3:return i=e.sent,e.abrupt("return",{token:i});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteToken",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,f.KL)(),e.next=3,(0,f.pQ)(t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getDeliveredNotifications",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.throwUnavailableError();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeDeliveredNotifications",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.throwUnavailableError();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeAllDeliveredNotifications",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.throwUnavailableError();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"subscribeToTopic",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.throwUnavailableError();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unsubscribeFromTopic",value:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.throwUnavailableError();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleNotificationReceived",value:function(e){var t={notification:this.createNotificationResult(e)};this.notifyListeners(r.notificationReceivedEvent,t)}},{key:"createNotificationResult",value:function(e){var t,r,n;return{body:null===(t=e.notification)||void 0===t?void 0:t.body,data:e.data,id:e.messageId,image:null===(r=e.notification)||void 0===r?void 0:r.image,title:null===(n=e.notification)||void 0===n?void 0:n.title}}},{key:"convertNotificationPermissionToPermissionState",value:function(e){var t="prompt";switch(e){case"granted":t="granted";break;case"denied":t="denied"}return t}},{key:"throwUnavailableError",value:function(){throw this.unavailable("Not available on web.")}}]),r}(s.Uw);v.notificationReceivedEvent="notificationReceived"}}]);
//# sourceMappingURL=705.c4b344d1.chunk.js.map